# 搜索云服务器（旧版）<a name="ecs_03_0907"></a>

## 操作场景<a name="section13668503717"></a>

购买弹性云服务器后，可以通过管理控制台提供的搜索功能快速检索当前区域的云服务器资源。本节操作介绍搜索云服务器的操作步骤。当前支持使用名称、云服务器ID、可用区、状态、规格名称、镜像ID、弹性公网IP地址、私有IP地址、创建时间、计费模式、VPC ID、企业项目、标签以上属性进行搜索。单击搜索框右侧的![](figures/zh-cn_image_0000001182586109.png)可以设置系统的默认搜索属性。

## 搜索语法<a name="section12532190182112"></a>

弹性云服务器支持多种类型的搜索，详细的说明和示例请参考[表1](#table145381755194911)。

>![](public_sys-resources/icon-note.gif) **说明：** 
>-   部分属性支持系统自动匹配属性搜索，但必须输入完整的属性值。
>-   选择属性搜索时，以下属性仅支持精确搜索，需输入完整的属性值：云服务器ID、镜像ID、弹性公网IP地址、VPC ID。
>-   多值搜索时私有IP地址也必须使用精确搜索，需输入完整的属性值。
>-   私有IP地址的网段需在以下范围内：10.0.0.0/8-24 ，172.16.0.0/12-24，192.168.0.0/16-24 。
>-   按标签过滤时可选择键或键值对搜索。支持设置多个标签，如果键不同，则标签按“与”的关系搜索。如果键相同，值不同，则标签按“与”的关系搜索。
>-   未选择属性的时候标签不支持多值搜索。
>-   私有IP和弹性公网IP不能同时搜索。

**表 1**  搜索语法

<a name="table145381755194911"></a>
<table><thead align="left"><tr id="row1153820554493"><th class="cellrowborder" valign="top" width="14.598540145985398%" id="mcps1.2.6.1.1"><p id="p5538145512499"><a name="p5538145512499"></a><a name="p5538145512499"></a>搜索类型</p>
</th>
<th class="cellrowborder" valign="top" width="19.34806519348065%" id="mcps1.2.6.1.2"><p id="p1538455174913"><a name="p1538455174913"></a><a name="p1538455174913"></a>支持的属性</p>
</th>
<th class="cellrowborder" valign="top" width="17.108289171082887%" id="mcps1.2.6.1.3"><p id="p053855584917"><a name="p053855584917"></a><a name="p053855584917"></a>输入格式</p>
</th>
<th class="cellrowborder" valign="top" width="14.978502149785017%" id="mcps1.2.6.1.4"><p id="p155381655114917"><a name="p155381655114917"></a><a name="p155381655114917"></a>示例</p>
</th>
<th class="cellrowborder" valign="top" width="33.96660333966602%" id="mcps1.2.6.1.5"><p id="p953885584912"><a name="p953885584912"></a><a name="p953885584912"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row6538105534919"><td class="cellrowborder" valign="top" width="14.598540145985398%" headers="mcps1.2.6.1.1 "><p id="p2088162119464"><a name="p2088162119464"></a><a name="p2088162119464"></a>属性值</p>
<p id="p95385559497"><a name="p95385559497"></a><a name="p95385559497"></a>自动匹配属性</p>
</td>
<td class="cellrowborder" valign="top" width="19.34806519348065%" headers="mcps1.2.6.1.2 "><p id="p1053817559499"><a name="p1053817559499"></a><a name="p1053817559499"></a>云服务器ID、规格名称、私有IP地址、弹性公网IP地址、标签（标签不支持输入多值。）</p>
</td>
<td class="cellrowborder" valign="top" width="17.108289171082887%" headers="mcps1.2.6.1.3 "><p id="p9538115518494"><a name="p9538115518494"></a><a name="p9538115518494"></a>完整的属性值</p>
</td>
<td class="cellrowborder" valign="top" width="14.978502149785017%" headers="mcps1.2.6.1.4 "><p id="p05381255114911"><a name="p05381255114911"></a><a name="p05381255114911"></a>云服务器ID：4a79dfec-f0d8-4181-9bef-495b8b7220e1,</p>
<p id="p1657037122717"><a name="p1657037122717"></a><a name="p1657037122717"></a>规格名称：s2.xlarge.4</p>
<p id="p164583515190"><a name="p164583515190"></a><a name="p164583515190"></a>私有IP地址：192.168.99.231</p>
<p id="p10391185510211"><a name="p10391185510211"></a><a name="p10391185510211"></a>标签：a=b</p>
</td>
<td class="cellrowborder" valign="top" width="33.96660333966602%" headers="mcps1.2.6.1.5 "><p id="p253805544920"><a name="p253805544920"></a><a name="p253805544920"></a>使用关键字搜索时，不需要选择属性，仅输入完整的属性值，系统自动匹配属性类型进行搜索。</p>
<p id="p35385556499"><a name="p35385556499"></a><a name="p35385556499"></a>多个取值使用“,”分隔。否则后输入的取值会替换之前输入的取值。多个属性值之间为“或”的关系。</p>
</td>
</tr>
<tr id="row8538455154915"><td class="cellrowborder" valign="top" width="14.598540145985398%" headers="mcps1.2.6.1.1 "><p id="p9538125514498"><a name="p9538125514498"></a><a name="p9538125514498"></a>单属性</p>
</td>
<td class="cellrowborder" valign="top" width="19.34806519348065%" headers="mcps1.2.6.1.2 "><p id="p1253885510491"><a name="p1253885510491"></a><a name="p1253885510491"></a>控制台支持的所有属性</p>
</td>
<td class="cellrowborder" valign="top" width="17.108289171082887%" headers="mcps1.2.6.1.3 "><p id="p353815510493"><a name="p353815510493"></a><a name="p353815510493"></a>属性：属性值</p>
</td>
<td class="cellrowborder" valign="top" width="14.978502149785017%" headers="mcps1.2.6.1.4 "><p id="p1953805519496"><a name="p1953805519496"></a><a name="p1953805519496"></a>状态：运行中</p>
</td>
<td class="cellrowborder" valign="top" width="33.96660333966602%" headers="mcps1.2.6.1.5 "><p id="p8538855194914"><a name="p8538855194914"></a><a name="p8538855194914"></a>选择属性后，输入/选择对应的属性信息。</p>
<p id="p83081220105318"><a name="p83081220105318"></a><a name="p83081220105318"></a>以下属性仅支持精确搜索，需输入完整的属性值：云服务器ID、弹性公网IP地址、镜像ID、VPC ID。</p>
</td>
</tr>
<tr id="row1053975524910"><td class="cellrowborder" valign="top" width="14.598540145985398%" headers="mcps1.2.6.1.1 "><p id="p1539455174912"><a name="p1539455174912"></a><a name="p1539455174912"></a>多属性</p>
</td>
<td class="cellrowborder" valign="top" width="19.34806519348065%" headers="mcps1.2.6.1.2 "><p id="p25391755164912"><a name="p25391755164912"></a><a name="p25391755164912"></a>控制台支持的所有属性</p>
</td>
<td class="cellrowborder" valign="top" width="17.108289171082887%" headers="mcps1.2.6.1.3 "><p id="p1753915558492"><a name="p1753915558492"></a><a name="p1753915558492"></a>属性：取值&amp;属性：取值</p>
</td>
<td class="cellrowborder" valign="top" width="14.978502149785017%" headers="mcps1.2.6.1.4 "><p id="p7539165584913"><a name="p7539165584913"></a><a name="p7539165584913"></a>状态：运行中 名称：ecs-c</p>
</td>
<td class="cellrowborder" valign="top" width="33.96660333966602%" headers="mcps1.2.6.1.5 "><p id="p653985594913"><a name="p653985594913"></a><a name="p653985594913"></a>支持选择多个不同的属性，搜索时多个属性为“与”的关系。</p>
<p id="p88471449125011"><a name="p88471449125011"></a><a name="p88471449125011"></a>以下属性仅支持精确搜索，需输入完整的属性值：云服务器ID、弹性公网IP地址、镜像ID、VPC ID。</p>
</td>
</tr>
<tr id="row353914558497"><td class="cellrowborder" valign="top" width="14.598540145985398%" headers="mcps1.2.6.1.1 "><p id="p5539125512495"><a name="p5539125512495"></a><a name="p5539125512495"></a>单属性、多值</p>
</td>
<td class="cellrowborder" valign="top" width="19.34806519348065%" headers="mcps1.2.6.1.2 "><p id="p7539195524914"><a name="p7539195524914"></a><a name="p7539195524914"></a>状态、云服务器ID、规格名称、私有IP地址、弹性公网IP地址、计费模式、标签</p>
<p id="p178991151182815"><a name="p178991151182815"></a><a name="p178991151182815"></a>（标签不支持输入多值。）</p>
</td>
<td class="cellrowborder" valign="top" width="17.108289171082887%" headers="mcps1.2.6.1.3 "><p id="p175394558497"><a name="p175394558497"></a><a name="p175394558497"></a>属性：取值1|取值2</p>
</td>
<td class="cellrowborder" valign="top" width="14.978502149785017%" headers="mcps1.2.6.1.4 "><p id="p1053945514917"><a name="p1053945514917"></a><a name="p1053945514917"></a>规格名称：s2,s3</p>
<p id="p1238619915384"><a name="p1238619915384"></a><a name="p1238619915384"></a>私有IP地址：</p>
<p id="p1387914484385"><a name="p1387914484385"></a><a name="p1387914484385"></a>192.168.0.19,192.168.111.111</p>
</td>
<td class="cellrowborder" valign="top" width="33.96660333966602%" headers="mcps1.2.6.1.5 "><p id="p12539555164910"><a name="p12539555164910"></a><a name="p12539555164910"></a>选择一个属性后，输入多个取值，多个取值之间为“或”的关系。</p>
<p id="p1845417347535"><a name="p1845417347535"></a><a name="p1845417347535"></a>以下属性仅支持精确搜索，需输入完整的属性值：云服务器ID、私有IP地址、弹性公网IP地址。</p>
</td>
</tr>
<tr id="row14539115554915"><td class="cellrowborder" valign="top" width="14.598540145985398%" headers="mcps1.2.6.1.1 "><p id="p165392556493"><a name="p165392556493"></a><a name="p165392556493"></a>多属性、多值</p>
</td>
<td class="cellrowborder" valign="top" width="19.34806519348065%" headers="mcps1.2.6.1.2 "><p id="p1453955594916"><a name="p1453955594916"></a><a name="p1453955594916"></a>状态、云服务器ID、规格名称、私有IP地址、弹性公网IP地址、计费模式、标签</p>
<p id="p9920195422810"><a name="p9920195422810"></a><a name="p9920195422810"></a>（标签不支持输入多值。）</p>
</td>
<td class="cellrowborder" valign="top" width="17.108289171082887%" headers="mcps1.2.6.1.3 "><p id="p115393555497"><a name="p115393555497"></a><a name="p115393555497"></a>属性：取值&amp;属性：取值1|取值2</p>
</td>
<td class="cellrowborder" valign="top" width="14.978502149785017%" headers="mcps1.2.6.1.4 "><p id="p12539955194912"><a name="p12539955194912"></a><a name="p12539955194912"></a>状态：运行中&amp;规格名称：s2,s3</p>
</td>
<td class="cellrowborder" valign="top" width="33.96660333966602%" headers="mcps1.2.6.1.5 "><p id="p1853919556490"><a name="p1853919556490"></a><a name="p1853919556490"></a>选择多个“属性：取值,取值”的搜索方式，属性之间为“与”的关系。同一属性的多个取值之间为“或”的关系。</p>
<p id="p874919140548"><a name="p874919140548"></a><a name="p874919140548"></a>以下属性仅支持精确搜索，需输入完整的属性值：云服务器ID、私有IP地址、弹性公网IP地址。</p>
</td>
</tr>
</tbody>
</table>

## 操作步骤<a name="section16095210249"></a>

1.  登录管理控制台。
2.  单击“![](figures/service-list.jpg)”，选择“计算 \> 弹性云服务器”。

    系统进入弹性云服务器列表页。

3.  在搜索的输入框中，设置搜索条件。

    **图 1**  搜索弹性云服务器<a name="fig65727294424"></a>  
    ![](figures/搜索弹性云服务器-75.png "搜索弹性云服务器-75")

    您可以根据需要，选择并设置合适的搜索条件。

    -   在搜索框直接输入属性值，系统自动识别属性并搜索。
    -   设置默认搜索项进行搜索。
        1.  在搜索框右侧，单击![](figures/icon-reset-76.png)，在搜索项列表中选择要设置的默认搜索项。

            >![](public_sys-resources/icon-note.gif) **说明：** 
            >切换区域后，搜索栏中设置的默认搜索项信息会保留。

            **图 2**  切换默认搜索项<a name="fig681592172912"></a>  
            ![](figures/切换默认搜索项.png "切换默认搜索项")

        2.  根据提示输入搜索关键字，并单击![](figures/02.png)进行搜索。

    -   设置搜索属性类型进行搜索。
        1.  单击搜索框，在列表中选择搜索的属性类型。

            **图 3**  设置搜索属性类型<a name="fig1554120595344"></a>  
            ![](figures/设置搜索属性类型.png "设置搜索属性类型")

        2.  根据提示信息，在搜索栏中输入或选择搜索条件，例如云服务器ID、云服务器状态、规格名称等，并单击![](figures/02-77.png)进行搜索。

## 示例1：使用属性值搜索，系统自动匹配属性<a name="section573315272067"></a>

输入完整的属性值后，系统自动识别属性并搜索。多个取值使用“,”分隔，否则后输入的取值会替换之前输入的取值。多个属性值之间为“或”的关系。

-   单值搜索：

    在云服务器列表页搜索的输入框中输入完整云服务器ID，单击![](figures/02-78.png)进行搜索。

    **图 4**  输入完整的云服务器ID<a name="fig625933719219"></a>  
    ![](figures/输入完整的云服务器ID.png "输入完整的云服务器ID")

    **图 5**  系统自动匹配属性<a name="fig1924610014715"></a>  
    ![](figures/系统自动匹配属性.png "系统自动匹配属性")

-   多值搜索：

    在云服务器列表页搜索的输入框中输入完整的规格名称，单击![](figures/02-79.png)进行搜索。

    **图 6**  输入多个完整的规格名称<a name="fig185501838161012"></a>  
    ![](figures/输入多个完整的规格名称.png "输入多个完整的规格名称")

    **图 7**  系统自动匹配属性并搜<a name="fig870212315243"></a>  
    ![](figures/系统自动匹配属性并搜.png "系统自动匹配属性并搜")

## 示例2：单属性搜索<a name="section17525129211"></a>

选择属性后，输入/选择对应的属性信息。

以下属性仅支持精确搜索，需输入完整的属性值：云服务器ID、镜像ID、弹性公网IP地址、VPC ID。

-   模糊搜索：使用私有IP地址搜索
    1.  在云服务器列表页搜索的输入框中选择“私有IP地址”。
    2.  根据提示，输入私有IP地址，单击![](figures/02-80.png)进行搜索。“私有IP地址”支持模糊搜索，例如输入“192.168.0”，可以搜索到所有使用192.168.0网段的云服务器。

        **图 8**  按私有IP地址搜索云服务器<a name="fig41114227202"></a>  
        ![](figures/按私有IP地址搜索云服务器.png "按私有IP地址搜索云服务器")

-   精确搜索：使用弹性公网IP地址搜索
    1.  在云服务器列表页搜索的输入框中选择“弹性公网IP地址”。
    2.  根据提示，输入完整弹性公网IP地址，单击![](figures/02-81.png)进行搜索。

        **图 9**  按弹性公网IP地址搜索云服务器<a name="fig7201360288"></a>  
        ![](figures/按弹性公网IP地址搜索云服务器.png "按弹性公网IP地址搜索云服务器")

## 示例3：多属性搜索<a name="section17219145882217"></a>

支持选择多个不同的属性，搜索时多个属性为“与”的关系。

以下属性仅支持精确搜索，需输入完整的属性值：云服务器ID、弹性公网IP地址、镜像ID、VPC ID。

本例同时使用“云服务器名称”和“私有IP地址”进行搜索。

1.  在云服务器列表页搜索的输入框中选择“云服务器名称”并输入取值。单击![](figures/02-82.png)进行搜索。本例云服务器名称使用模糊搜索。
2.  添加筛选属性条件，选择“私有IP地址”，根据提示输入私有IP地址，单击![](figures/02-83.png)进行搜索。本例私有IP地址使用模糊搜索。

    **图 10**  按私有IP地址搜索云服务器<a name="fig619912112244"></a>  
    ![](figures/按私有IP地址搜索云服务器-84.png "按私有IP地址搜索云服务器-84")

## 示例4：单属性、多值搜索<a name="section960395034515"></a>

仅以下属性支持单属性、多值搜索：状态、云服务器ID、规格名称、私有IP地址、弹性公网IP地址、计费模式、标签。

其中以下属性仅支持精确搜索，需输入完整的属性值：云服务器ID、私有IP地址、弹性公网IP地址。

选择一个属性后，输入多个取值，多个取值之间为“或”的关系。

-   模糊搜索
    1.  在云服务器列表页搜索的输入框中选择“规格名称”。
    2.  根据提示输入多个规格名称，使用“,”分隔，单击![](figures/02-85.png)进行搜索。

        **图 11**  按规格名称搜索云服务器<a name="fig9463151417513"></a>  
        ![](figures/按规格名称搜索云服务器.png "按规格名称搜索云服务器")

-   精确搜索
    1.  在云服务器列表页搜索的输入框中选择“私有IP地址”。
    2.  根据提示输入多个完整的私有IP地址，使用“,”分隔，单击![](figures/02-86.png)进行搜索。

        **图 12**  按私有IP地址搜索云服务器<a name="fig125612191522"></a>  
        ![](figures/按私有IP地址搜索云服务器-87.png "按私有IP地址搜索云服务器-87")

## 示例5：多属性、多值搜索<a name="section1697191013461"></a>

仅以下属性支持多属性、多值搜索：状态、云服务器ID、规格名称、私有IP地址、弹性公网IP地址、计费模式、标签。

其中以下属性仅支持精确搜索，需输入完整的属性值：云服务器ID、私有IP地址、弹性公网IP地址。

选择多个“属性：取值,取值”的搜索方式，属性之间为“与”的关系。同一属性的多个取值之间为“或”的关系。

-   模糊搜索
    1.  在云服务器列表页搜索的输入框中选择“状态”，并选择“运行中”、“关机”，单击![](figures/02-88.png)进行搜索。
    2.  添加筛选属条件，选择“规格名称”，输入多个规格名称，使用“,”分隔，单击![](figures/02-89.png)进行搜索。

        **图 13**  按状态和规格名称搜索云服务器<a name="fig84645223568"></a>  
        ![](figures/按状态和规格名称搜索云服务器.png "按状态和规格名称搜索云服务器")

-   精确搜索
    1.  在云服务器列表页搜索的输入框中选择“状态”，并选择“运行中”、“关机”，单击![](figures/02-90.png)进行搜索。
    2.  添加筛选属条件，选择“私有IP地址”，根据提示输入多个完整的私有IP地址，使用“,”分隔，单击![](figures/02-91.png)进行搜索。

        **图 14**  按状态和私有IP地址搜索云服务器<a name="fig746416220567"></a>  
        ![](figures/按状态和私有IP地址搜索云服务器.png "按状态和私有IP地址搜索云服务器")

## 示例6 ：按标签搜索<a name="section83196235462"></a>

按标签过滤时可选择键或键值对搜索。

支持设置多个标签，如果键不同，则标签按“与”的关系搜索。

如果键相同，值不同，则标签按“与”的关系搜索。

-   单个标签搜索

    在云服务器列表页搜索的输入框中选择“标签”，选择标签键值对，单击“确认”进行搜索。

    **图 15**  按标签搜索云服务器<a name="fig13967171743616"></a>  
    ![](figures/按标签搜索云服务器-92.png "按标签搜索云服务器-92")

-   多个标签搜索

    在云服务器列表页搜索的输入框中选择“标签”，选择多个标签键值对，单击“确认”进行搜索。

    按“与”的关系搜索，搜索同时具备这两个标签的云服务器。

    **图 16**  按标签搜索云服务器<a name="fig8485131383713"></a>  
    ![](figures/按标签搜索云服务器-93.png "按标签搜索云服务器-93")

