# 配置主机名与IP地址的映射（可选）<a name="ZH-CN_TOPIC_0074752335"></a>

对于同一VPC内的弹性云服务器，可以通过主机名称进行通信。此时，您需要配置主机名与IP地址之间的映射关系。较之通过IP地址进行通信，主机名方式进行通信更为方便。

## 约束限制<a name="section1399111463019"></a>

仅适用于Linux弹性云服务器。

## 操作步骤<a name="section4184679493755"></a>

假设VPC内共有2台弹性云服务器：ecs-01和ecs-02。通过如下操作，ecs-01和ecs-02可以通过主机名互相通信。

1.  分别登录ecs-01和ecs-02，获取2台弹性云服务器的私有IP地址。
    1.  登录管理控制台。
    2.  选择“计算 \> 弹性云服务器”。
    3.  在弹性云服务器列表页，通过“私有IP地址”栏，查看弹性云服务器的私有IP地址。

        【示例】假设查询的私有IP地址如下：

        ecs-01：192.168.0.1

        ecs-02：192.168.0.2


2.  分别获取2台弹性云服务器的主机名。
    1.  登录弹性云服务器。
    2.  执行以下命令，查询弹性云服务器的主机名。

        **sudo hostname**

        【示例】假设查询的主机名如下：

        ecs-01：hostname01

        ecs-02：hostname02


3.  建立主机名与IP地址之间的映射关系，并添加同一VPC内其他弹性云服务器的信息。
    1.  登录弹性云服务器ecs-01。
    2.  <a name="li6087483710276"></a>执行以下命令，切换至root权限。

        **sudo su -**

    3.  执行以下命令，编辑hosts文件。

        **vi /etc/hosts**

    4.  按“i”，进入编辑模式。
    5.  按照如下格式添加语句，建立映射关系。

        _私有IP地址 主机名_

        【示例】需添加的语句为：

        192.168.0.1 hostname01

        192.168.0.2 hostname02

    6.  按“Esc”退出编辑模式。
    7.  <a name="li64061240102622"></a>执行以下命令，保存并退出。

        **:wq**

    8.  登录ecs-02。
    9.  重复执行[3.b](#li6087483710276)\~[3.g](#li64061240102622)。

4.  测试验证能否通过主机名正常通信。

    分别登录同一VPC内的弹性云服务器，执行以下命令，使用ping命令ping添加的主机，看ping包是否能正常送达。

    **ping  _hostname_**


